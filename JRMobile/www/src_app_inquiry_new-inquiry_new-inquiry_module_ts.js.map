{"version":3,"file":"src_app_inquiry_new-inquiry_new-inquiry_module_ts.js","mappings":"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","sources":["./src/app/inquiry/new-inquiry/new-inquiry-routing.module.ts","./src/app/inquiry/new-inquiry/new-inquiry.module.ts","./src/app/inquiry/new-inquiry/new-inquiry.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewInquiryPage } from './new-inquiry.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewInquiryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewInquiryPageRoutingModule {}\n","import { HeaderOnScroll } from './../../directives/header-on-scroll.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { NewInquiryPageRoutingModule } from './new-inquiry-routing.module';\nimport { NewInquiryPage } from './new-inquiry.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    NewInquiryPageRoutingModule,\n    HeaderOnScroll\n  ],\n  declarations: [NewInquiryPage]\n})\nexport class NewInquiryPageModule { }\n","import { NavController, Platform } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { TitleCasePipe } from '@angular/common';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, NgForm, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { InquiryInputData } from 'src/app/models/inquiry.model';\nimport { CityList, DistrictList, StateList, } from 'src/app/models/location.model';\nimport { InquiryService } from 'src/app/service/inquiry/inquiry.service';\nimport { ToastService } from 'src/app/service/toast/toast.service';\n\n@Component({\n  selector: 'app-new-inquiry',\n  templateUrl: './new-inquiry.page.html',\n  styleUrls: ['./new-inquiry.page.scss'],\n})\nexport class NewInquiryPage implements OnInit {\n  newInquiryInput: any;\n  newInquiryData: InquiryInputData;\n  isInvalid: boolean = false;\n  isNew: boolean = true;\n  stateList: StateList[];\n  districtList: DistrictList[];\n  cityList: CityList[];\n  btnHandler: Subscription;\n  dateOfBirth = new Date().toISOString();\n\n  @ViewChild('inquiryForm') private inquiryForm: NgForm;\n\n  constructor(\n    private fb: FormBuilder,\n    private inquiryService: InquiryService,\n    private titlecasePipe: TitleCasePipe,\n    private toastService: ToastService,\n    private router: Router,\n    private navCtrl: NavController,\n    private platform: Platform\n  ) {\n    this.newInquiryInput = this.fb.group({\n      firstName: ['', [Validators.required]],\n      lastName: ['', [Validators.required]],\n      mobileNumber: ['', [Validators.required, Validators.pattern('^((\\\\+1-?)|0)?[0-9]{10}$')],],\n      secondNumber: ['', [Validators.pattern('^((\\\\+1-?)|0)?[0-9]{10}$')]],\n      houseDetail: ['', [Validators.required]],\n      areaDetail: ['', [Validators.required]],\n      stateId: [null, [Validators.required]],\n      districtId: [{ value: null, disabled: true }, [Validators.required]],\n      locationId: [{ value: null, disabled: true }, [Validators.required]],\n      pincode: ['', [Validators.required]],\n      dateOfBirth: ['']\n      // interiorDetail: [''],\n      // inquiryType: ['', [Validators.required]],\n      // description: [''],\n    });\n  }\n\n  get inq() {\n    return this.newInquiryInput.controls;\n  }\n\n  async ngOnInit(): Promise<void> { }\n\n  async ionViewWillEnter() {\n    await this.getAllStateData();\n    this.btnHandler = this.platform.backButton.subscribeWithPriority(1, () => {\n      this.navCtrl.navigateBack(\"tabs/inquiry\")\n    });\n  }\n\n  async getAllStateData() {\n    this.stateList = await this.inquiryService.getAllState();\n  }\n\n  async getDistrictByState(event: any) {\n    if (this.isNew) {\n      this.districtList = await this.inquiryService.getDistrictListForState(event);\n      this.newInquiryInput.controls['districtId'].enable()\n    }\n  }\n\n  async getCityByDistrict(event: any) {\n    if (this.isNew) {\n      this.cityList = await this.inquiryService.getCityListForDistrict(event);\n      this.newInquiryInput.controls['locationId'].enable()\n    }\n  }\n\n  async addNewInquiry() {\n    debugger;\n    console.log('calling');\n    console.log(this.newInquiryInput);\n    if (this.newInquiryInput.invalid) {\n      this.isInvalid = true;\n    }\n    if (this.newInquiryInput.valid) {\n      this.newInquiryData = {\n        firstName: this.titlecasePipe.transform(this.newInquiryInput.value['firstName'].trim()),\n        lastName: this.titlecasePipe.transform(this.newInquiryInput.value['lastName'].trim()),\n        mobileNumber: this.newInquiryInput.value['mobileNumber'],\n        secondNumber: this.newInquiryInput.value['secondNumber'],\n        houseDetail: this.titlecasePipe.transform(this.newInquiryInput.value['houseDetail'].trim()),\n        areaDetail: this.titlecasePipe.transform(this.newInquiryInput.value['areaDetail'].trim()),\n        stateId: +(this.newInquiryInput.value['stateId']),\n        districtId: +(this.newInquiryInput.value['districtId']),\n        cityId: +(this.newInquiryInput.value['locationId']),\n        pincode: this.newInquiryInput.value['pincode'],\n        dateOfBirth: new Date(this.dateOfBirth)\n        // interiorName: this.titlecasePipe.transform(this.newInquiryInput.value['interiorDetail'].trim()),\n        // inquiryType: this.newInquiryInput.value['inquiryType'],\n        // description: this.newInquiryInput.value['description'].trim(),\n      }\n      try {\n        await this.inquiryService.generateInquiry(this.newInquiryData);\n        this.isInvalid = false;\n        this.isNew = false;\n        this.inquiryForm.resetForm();\n        this.newInquiryInput.reset();\n        this.isNew = true;\n        this.toastService.success('Inquiry created succesfully');\n        this.router.navigate(['/tabs/inquiry']);\n      } catch (error: any) {\n        this.toastService.error(error.error.message);\n      }\n    }\n  }\n\n  async ionViewDidLeave() {\n    if (this.btnHandler) {\n      this.btnHandler.unsubscribe();\n    }\n  }\n}\n"],"names":["NavController","Platform","TitleCasePipe","Component","ViewChild","FormBuilder","Validators","Router","InquiryService","ToastService","NewInquiryPage","constructor","fb","inquiryService","titlecasePipe","toastService","router","navCtrl","platform","Date","toISOString","newInquiryInput","group","firstName","required","lastName","mobileNumber","pattern","secondNumber","houseDetail","areaDetail","stateId","districtId","value","disabled","locationId","pincode","dateOfBirth","inq","controls","ngOnInit","ionViewWillEnter","getAllStateData","btnHandler","backButton","subscribeWithPriority","navigateBack","stateList","getAllState","getDistrictByState","event","isNew","districtList","getDistrictListForState","enable","getCityByDistrict","cityList","getCityListForDistrict","addNewInquiry","console","log","invalid","isInvalid","valid","newInquiryData","transform","trim","cityId","generateInquiry","inquiryForm","resetForm","reset","success","navigate","error","message","ionViewDidLeave","unsubscribe","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}