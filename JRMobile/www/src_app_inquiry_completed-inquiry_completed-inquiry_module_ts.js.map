{"version":3,"file":"src_app_inquiry_completed-inquiry_completed-inquiry_module_ts.js","mappings":"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","sources":["./src/app/inquiry/completed-inquiry/completed-inquiry-routing.module.ts","./src/app/inquiry/completed-inquiry/completed-inquiry.module.ts","./src/app/inquiry/completed-inquiry/completed-inquiry.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CompletedInquiryPage } from './completed-inquiry.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CompletedInquiryPage\n  },\n  {\n    path: 'completed-inquiry-detail',\n    loadChildren: () => import('./completed-inquiry-detail/completed-inquiry-detail.module').then( m => m.CompletedInquiryDetailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CompletedInquiryPageRoutingModule {}\n","import { HeaderOnScroll } from './../../directives/header-on-scroll.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { CompletedInquiryPageRoutingModule } from './completed-inquiry-routing.module';\nimport { CompletedInquiryPage } from './completed-inquiry.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CompletedInquiryPageRoutingModule,\n    HeaderOnScroll\n  ],\n\n  declarations: [CompletedInquiryPage]\n})\nexport class CompletedInquiryPageModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { InquiryStages } from 'src/app/constant/inquiryConstant';\nimport { InquiryList } from 'src/app/models/inquiry.model';\nimport { InquiryService } from 'src/app/service/inquiry/inquiry.service';\nimport { UtilService } from 'src/app/service/util/util.service';\n\n@Component({\n  selector: 'app-completed-inquiry',\n  templateUrl: './completed-inquiry.page.html',\n  styleUrls: ['./completed-inquiry.page.scss'],\n})\nexport class CompletedInquiryPage implements OnInit {\n\n  canShowList: boolean = false;\n  globalSearchInput: string = '';\n  pageNumber: number = 1;\n  inquiryList: InquiryList[];\n  allInquiryList: InquiryList[];\n  totalInquiry: number = 0;\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  constructor(\n    private inquiryService: InquiryService,\n    private utilService: UtilService,\n    private router: Router\n  ) { }\n\n  async ngOnInit(): Promise<void> {\n    await this.getCompetedInquiryList();\n    this.allInquiryList = [...this.inquiryList];\n  }\n\n  async getCompetedInquiryList() {\n    let list = await this.inquiryService.getComplitedInquiryList(this.pageNumber, this.globalSearchInput);\n    this.inquiryList = list.list;\n    this.totalInquiry = list.totalCount;\n    this.canShowList = true;\n  }\n\n  getInquiryStageName(stage: string): string {\n    return InquiryStages[stage].name;\n  }\n\n  async searchCompletedInquiry(event: any) {\n    this.pageNumber = 1;\n    this.globalSearchInput = event.target.value;\n    await this.getCompetedInquiryList();\n    this.allInquiryList = [...this.inquiryList];\n    if (this.totalInquiry > this.pageNumber * 10) {\n      this.infiniteScroll.disabled = false;\n    }\n  }\n\n  async refrashCompletedInquiryList(event: any) {\n    this.pageNumber = 1;\n    this.globalSearchInput = '';\n    try {\n      await this.getCompetedInquiryList();\n      this.allInquiryList = [...this.inquiryList];\n      event.target.complete();\n      if (this.totalInquiry > this.pageNumber * 10) {\n        this.infiniteScroll.disabled = false;\n      }\n    } catch (error) { }\n  }\n\n  async loadMoreInquiry(event: any) {\n    if (this.totalInquiry <= this.pageNumber * 10) {\n      event.target.disabled = true;\n    }\n    this.pageNumber = this.pageNumber + 1;\n    try {\n      await this.getCompetedInquiryList();\n      this.allInquiryList = [...this.allInquiryList, ...this.inquiryList];\n      if (this.totalInquiry < this.pageNumber * 10) {\n        event.target.disabled = true;\n      }\n      event.target.complete();\n    } catch (error) { }\n\n  }\n\n  goToInquiryDetail(inquiry: any) {\n    this.utilService.sendInquiry(inquiry);\n    this.router.navigate(['/tabs/inquiry/completed-inquiry/completed-inquiry-detail']);\n  }\n\n}\n"],"names":["Component","ViewChild","Router","IonInfiniteScroll","InquiryStages","InquiryService","UtilService","CompletedInquiryPage","constructor","inquiryService","utilService","router","ngOnInit","getCompetedInquiryList","allInquiryList","inquiryList","list","getComplitedInquiryList","pageNumber","globalSearchInput","totalInquiry","totalCount","canShowList","getInquiryStageName","stage","name","searchCompletedInquiry","event","target","value","infiniteScroll","disabled","refrashCompletedInquiryList","complete","error","loadMoreInquiry","goToInquiryDetail","inquiry","sendInquiry","navigate","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}